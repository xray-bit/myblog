<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>termios on K CODE</title>
        <link>https://kcode.cc/tags/termios/</link>
        <description>Recent content in termios on K CODE</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cmn-Hans</language>
        <lastBuildDate>Mon, 05 Dec 2022 19:17:40 +0800</lastBuildDate><atom:link href="https://kcode.cc/tags/termios/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Linux termios 结构体注解</title>
        <link>https://kcode.cc/post/2022/12/annotation-of-linux-termios-structure.html</link>
        <pubDate>Mon, 05 Dec 2022 19:17:40 +0800</pubDate>
        
        <guid>https://kcode.cc/post/2022/12/annotation-of-linux-termios-structure.html</guid>
        <description>&lt;h2 id=&#34;1-结构体定义&#34;&gt;1. 结构体定义&lt;/h2&gt;
&lt;p&gt;该结构体定义在头文件 &amp;lt;termios.h&amp;gt; 中，至少包含以下成员：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;tcflag_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c_iflag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;      &lt;span class=&#34;cm&#34;&gt;/* input modes */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;tcflag_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c_oflag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;      &lt;span class=&#34;cm&#34;&gt;/* output modes */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;tcflag_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c_cflag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;      &lt;span class=&#34;cm&#34;&gt;/* control modes */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;tcflag_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c_lflag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;      &lt;span class=&#34;cm&#34;&gt;/* local modes */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;cc_t&lt;/span&gt;     &lt;span class=&#34;n&#34;&gt;c_cc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NCCS&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;   &lt;span class=&#34;cm&#34;&gt;/* special characters */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;2-结构体成员注解&#34;&gt;2. 结构体成员注解&lt;/h2&gt;
&lt;h3 id=&#34;21-输入模式标志-c_iflag&#34;&gt;2.1. 输入模式标志 &lt;code&gt;c_iflag&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;c_iflag&lt;/code&gt; 用于设置终端 I/O 的输入参数，标志宏定义如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;IGNBRK&lt;br&gt;
忽略输入时的中断（BREAK）条件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;BRKINT&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;如果设置了 &lt;code&gt;IGNBRK&lt;/code&gt; ，则忽略中断；&lt;/li&gt;
&lt;li&gt;如果没有设置 &lt;code&gt;IGNBRK&lt;/code&gt; ，但设置了 &lt;code&gt;BRKINT&lt;/code&gt; ，那么中断（BREAK）会导致输入输出队列被冲洗（flush）；如果终端是前台进程组，中断（&lt;code&gt;BREAK&lt;/code&gt;）将会向该终端发送 &lt;code&gt;SIGINT&lt;/code&gt; 信号；&lt;/li&gt;
&lt;li&gt;如果 &lt;code&gt;IGNBRK&lt;/code&gt; 和 &lt;code&gt;BRKINT&lt;/code&gt; 都未设置，中断（&lt;code&gt;BREAK&lt;/code&gt;）字符将被读取为空字节（&amp;rsquo;\0&amp;rsquo;）；如果设置了 &lt;code&gt;PARMAR&lt;/code&gt; 标志，那么它将被读取为序列 &lt;code&gt;\377 \0 \0&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IGNPAR&lt;br&gt;
忽略帧错误和校验错误&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PARMRK&lt;br&gt;
（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;INPCK&lt;br&gt;
使能输入奇偶校验&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ISTRIP&lt;br&gt;
有效输入字节被剥离为 7 位&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;INLCR&lt;br&gt;
将输入的 &lt;code&gt;NL&lt;/code&gt; 转换为 &lt;code&gt;CR&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IGNCR&lt;br&gt;
忽略输入时的 &lt;code&gt;CR&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ICRNL&lt;br&gt;
将输入的 &lt;code&gt;CR&lt;/code&gt; 转换为 &lt;code&gt;NL&lt;/code&gt; （除非设置了 &lt;code&gt;IGNCR&lt;/code&gt; ）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IUCLC&lt;br&gt;
（不属于 POSIX）在输入时将大写字符转换成小写&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IXON&lt;br&gt;
在输出上使能 XON/XOFF 流控制&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IXANY&lt;br&gt;
输入任何字符都将重启停止的输出&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IXOFF
在输入上使能 XON/XOFF 流控制&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IMAXBEL&lt;br&gt;
（不属于 POSIX）输入队列已满时响铃；Linux 没有实现该标志位&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IUTF8&lt;br&gt;
（不属于 POSIX）输入为 UTF8 字符&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;22-输出模式标志-c_oflag&#34;&gt;2.2. 输出模式标志 &lt;code&gt;c_oflag&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;c_oflag&lt;/code&gt; 用于设置终端 I/O 的输出参数，标志宏定义如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OPOST&lt;br&gt;
使能实现定义（implementation-defined）的输出处理（？）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OLCUC&lt;br&gt;
（不属于 POSIX）在输出时将大写字符转换成小写&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ONLCR&lt;br&gt;
在输出时将 NL 转换成 &lt;code&gt;CR-NL&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OCRNL&lt;br&gt;
在输出时将 CR 转换成 &lt;code&gt;NL&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ONOCR&lt;br&gt;
不在第 0 列输出 &lt;code&gt;CR&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ONLRET&lt;br&gt;
不输出 &lt;code&gt;CR&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OFILL&lt;br&gt;
以发送填充字符代替使用定时进行延时&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OFDEL&lt;br&gt;
填充字符设为 &lt;code&gt;ASCII DEL&lt;/code&gt; (0177)，如果未设置，则为 &lt;code&gt;ASCII NULL&lt;/code&gt; (&amp;rsquo;\0&amp;rsquo;)；Linux 没有实现该标志位&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;NLDLY&lt;br&gt;
（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CRDLY&lt;br&gt;
（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TABDLY&lt;br&gt;
（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;BSDLY&lt;br&gt;
（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VTDLY&lt;br&gt;
（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;FFDLY&lt;br&gt;
（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;23-控制模式标志-c_cflag&#34;&gt;2.3. 控制模式标志 &lt;code&gt;c_cflag&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;c_cflag&lt;/code&gt; 用于设置终端 I/O 的控制参数，标志宏定义如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CBAUD&lt;br&gt;
（不属于 POSIX）波特率掩码（ 4 + 1 位）。[要求 &lt;code&gt;_BSD_SOURCE&lt;/code&gt; 或 &lt;code&gt;_SVID_SOURCE&lt;/code&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CBAUDEX&lt;br&gt;
（不属于 POSIX）额外的波特率掩码（ 1 位），包含在 &lt;code&gt;CBAUD&lt;/code&gt; 中。 [要求 &lt;code&gt;_BSD_SOURCE&lt;/code&gt; 或 &lt;code&gt;_SVID_SOURCE&lt;/code&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CSIZE&lt;br&gt;
字符大小掩码，值为 &lt;code&gt;CS5&lt;/code&gt;、&lt;code&gt;CS6&lt;/code&gt;、&lt;code&gt;CS7&lt;/code&gt; 或 &lt;code&gt;CS8&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CSTOPB&lt;br&gt;
将停止位设为 2 位，如果未设置，则为 1 位&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CREAD&lt;br&gt;
启用接收器&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PARENB
使能对输出的奇偶校验生成和对输入的奇偶校验检查&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PARODD&lt;br&gt;
使能奇校验，如果未设置，则为偶校验&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HUPCL&lt;br&gt;
（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CLOCAL&lt;br&gt;
忽略解制解调器状态行&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;LOBLK&lt;br&gt;
（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CIBAUD&lt;br&gt;
（不属于 POSIX）输入波特率掩码&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CMSPAR&lt;br&gt;
（不属于 POSIX）（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CRTSCTS&lt;br&gt;
（不属于 POSIX）启用硬件 RTS/CTS 流控制&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;24-本地模式标志-c_lflag&#34;&gt;2.4. 本地模式标志 &lt;code&gt;c_lflag&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;c_lflag&lt;/code&gt; 用于设置终端 I/O 的本地参数，标志宏定义如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ISIG&lt;br&gt;
当接收到 &lt;code&gt;INTR&lt;/code&gt;、&lt;code&gt;QUIT&lt;/code&gt;、&lt;code&gt;SUSP&lt;/code&gt; 或 &lt;code&gt;DSUSP&lt;/code&gt; 字符时，产生相应的信号&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ICANON&lt;br&gt;
使能规范模式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;XCASE&lt;br&gt;
（不属于 POSIX）（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ECHO&lt;br&gt;
使能回显&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ECHOE&lt;br&gt;
如果设置了 &lt;code&gt;ICANON&lt;/code&gt;，则 &lt;code&gt;ERASE&lt;/code&gt; 字符将可视地擦除字符&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ECHOK&lt;br&gt;
如果设置了 &lt;code&gt;ICANON&lt;/code&gt;，则 &lt;code&gt;KILL&lt;/code&gt; 字符将可视地擦除当前行&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ECHONL&lt;br&gt;
如果设置了 &lt;code&gt;ICANON&lt;/code&gt;，则回显 &lt;code&gt;NL&lt;/code&gt; 字符（ &lt;code&gt;ECHO&lt;/code&gt; 是否设置都有效 ）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ECHOCTL&lt;br&gt;
（不属于 POSIX）如果设置了 &lt;code&gt;ECHO&lt;/code&gt;，则除 &lt;code&gt;TAB&lt;/code&gt;、&lt;code&gt;NL&lt;/code&gt;、&lt;code&gt;START&lt;/code&gt; 和 &lt;code&gt;STOP&lt;/code&gt; 外的特殊终端字符，都回显为 &lt;code&gt;^X&lt;/code&gt;，例如 0x08 (&lt;code&gt;BS&lt;/code&gt;) 将回显为 &lt;code&gt;^H&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ECHOPRT&lt;br&gt;
如果设置了 &lt;code&gt;ICANON&lt;/code&gt; 和 &lt;code&gt;ECHO&lt;/code&gt;，则 ERASE 字符使所有正被擦除的字符按它们被擦除的方式打印&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ECHOKE&lt;br&gt;
如果设置了 &lt;code&gt;ICANON&lt;/code&gt;，则按照 &lt;code&gt;ECHOE&lt;/code&gt; 和 &lt;code&gt;ECHOPRT&lt;/code&gt; 指定的方式来回显行中的每个字符&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DEFECHO&lt;br&gt;
（不属于 POSIX）仅在进程正在读取时回显；Linux 没有实现该标志位&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;FLUSHO&lt;br&gt;
（不属于 POSIX）（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;NOFLSH&lt;br&gt;
（不属于 POSIX）（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TOSTOP&lt;br&gt;
（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PENDIN&lt;br&gt;
（不属于 POSIX）（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IEXTEN&lt;br&gt;
（不属于 POSIX）（待补充）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;25-终端特殊字符定义数组-c_cc&#34;&gt;2.5. 终端特殊字符定义数组 &lt;code&gt;c_cc&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;VDISCARD&lt;/li&gt;
&lt;li&gt;VDSUSP&lt;/li&gt;
&lt;li&gt;VEOF&lt;/li&gt;
&lt;li&gt;VEOL&lt;/li&gt;
&lt;li&gt;VEOL2&lt;/li&gt;
&lt;li&gt;VERASE&lt;/li&gt;
&lt;li&gt;VINTR&lt;/li&gt;
&lt;li&gt;VKILL&lt;/li&gt;
&lt;li&gt;VLNEXT&lt;/li&gt;
&lt;li&gt;VMIN&lt;/li&gt;
&lt;li&gt;VQUIT&lt;/li&gt;
&lt;li&gt;VPEPRINT&lt;/li&gt;
&lt;li&gt;VSTART&lt;/li&gt;
&lt;li&gt;VSTATUS&lt;/li&gt;
&lt;li&gt;VSTOP&lt;/li&gt;
&lt;li&gt;VSUSP&lt;/li&gt;
&lt;li&gt;VSWTCH&lt;/li&gt;
&lt;li&gt;VTIME&lt;/li&gt;
&lt;li&gt;VMERASE&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
